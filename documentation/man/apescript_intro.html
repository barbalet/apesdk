<HTML><HEAD>  <TITLE>Introduction to ApeScript</TITLE></HEAD><BODY bgcolor="#ffffff"><FONT FACE="Arial,Geneva,Helvetica" SIZE=3><CENTER><A HREF="file.html">File Format</A> - <A HREF="index.html">Contents</A> - <A HREF="apescript_sim.html">Scripting the Simulation</A></CENTER><HR><H2>INTRODUCTION TO APESCRIPT</H2><P>ApeScript was developed with a number of requirements. These included;<P>&nbsp;&nbsp;&nbsp;(1)&nbsp;&nbsp;&nbsp;Simple language - easy to learn, easy to maintain<BR>&nbsp;&nbsp;&nbsp;(2)&nbsp;&nbsp;&nbsp;Stable memory footprint - no allocation/free issues<BR>&nbsp;&nbsp;&nbsp;(3)&nbsp;&nbsp;&nbsp;Minimal crashes - good error handling and abort<BR>&nbsp;&nbsp;&nbsp;(4)&nbsp;&nbsp;&nbsp;Small code - maintains the Simulation's small size<P>From these basic elements the ApeScript language was built on a C/C++/Java style syntax with a couple of minor differences. Anyone familiar with these languages should have no problem with ApeScript. Similarly, as ApeScript is extremely simple, a non-programmer should be able to pick up ApeScript too.<P>In addition, there are a series of <A HREF="apescript_notes.html">ApeScript examples and discussion notes to assist novice and advanced developers</A>.<P><B>ELEMENTS</B><P>Comments in ApeScript are denoted between /* and */.<P><CENTER><TABLE WIDTH=90%><TD ALIGN=LEFT VALIGN=TOP BGCOLOR="#eeeeee"><FONT FACE="Courier, Courier New" SIZE=4>&nbsp;&nbsp;&nbsp;/* This is an example comment */<P>&nbsp;&nbsp;&nbsp;/*<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is also a comment<BR>&nbsp;&nbsp;&nbsp;*/</TABLE></CENTER><P><FONT FACE="Arial,Geneva,Helvetica" SIZE=3>ApeScript has two basic types numbers and variables. The variables may be <A HREF="apescript_sim.html">pre-defined variables that come from the Simulation environment</A> but other variables can be created on the fly.<P>A variable can only be made up of letters and underscore (_). No numbers can be included in a variable name.<P>A variable is defined through use. If a variable is not set at the time it is defined it is assumed the variable equals zero. For example;<P><CENTER><TABLE WIDTH=90%><TD ALIGN=LEFT VALIGN=TOP BGCOLOR="#eeeeee"><FONT FACE="Courier, Courier New" SIZE=4>&nbsp;&nbsp;&nbsp;this_is_a_test = what_is_the_value + 5;</TABLE></CENTER><P><FONT FACE="Arial,Geneva,Helvetica" SIZE=3>Would set this_is_a_test to 5 and if it was reused what_is_the_value to 0. Whilst this example is a created one, it is good to make distinct variable names to avoid any confusion with the <A HREF="apescript_sim.html">Simulation variables</A>. The numbers defined in ApeScript need to be whole integer numbers of the range from 0 to 65535. You can not define an ApeScript number as negative from the initial definition. However you can define a negative number through a subtraction. For example;<P><CENTER><TABLE WIDTH=90%><TD ALIGN=LEFT VALIGN=TOP BGCOLOR="#eeeeee"><FONT FACE="Courier, Courier New" SIZE=4>&nbsp;&nbsp;&nbsp;negative_five = 0 - 5;</TABLE></CENTER><P><FONT FACE="Arial,Geneva,Helvetica" SIZE=3>Similarly you can create numbers larger than 65535 through addition or multiplication. With this method you can create numbers between the range of -4294967296 to 4294967295.<P><B>OPERATORS</B><P>In addition to numbers and variables, ApeScript allow the following mathematical and logical operators;<P><CENTER><TABLE WIDTH=90%><TD ALIGN=LEFT VALIGN=TOP BGCOLOR="#eeeeee"><FONT FACE="Courier, Courier New" SIZE=4>&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;Subtract<BR>&nbsp;&nbsp;&nbsp;+&nbsp;&nbsp;&nbsp;Add<BR>&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;Multiply<BR>&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;Divide<BR>&nbsp;&nbsp;&nbsp;%&nbsp;&nbsp;&nbsp;Modulus<BR>&nbsp;&nbsp;&nbsp;&&nbsp;&nbsp;&nbsp;Binary And<BR>&nbsp;&nbsp;&nbsp;^&nbsp;&nbsp;&nbsp;Binary Xor<BR>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;Binary Or<BR>&nbsp;&nbsp;&nbsp;>>&nbsp;&nbsp;Bit Shift Right<BR>&nbsp;&nbsp;&nbsp;<<&nbsp;&nbsp;Bit Shift Left<BR>&nbsp;&nbsp;&nbsp;>&nbsp;&nbsp;&nbsp;Greater Than<BR>&nbsp;&nbsp;&nbsp;<&nbsp;&nbsp;&nbsp;Less Than<BR>&nbsp;&nbsp;&nbsp;>=&nbsp;&nbsp;Greater Than or Equal To<BR>&nbsp;&nbsp;&nbsp;<=&nbsp;&nbsp;Less Than or Equal To<BR>&nbsp;&nbsp;&nbsp;==&nbsp;&nbsp;Logical Equal To<BR>&nbsp;&nbsp;&nbsp;!=&nbsp;&nbsp;Logical Not Equal To<BR>&nbsp;&nbsp;&nbsp;&&&nbsp;&nbsp;Logical And<BR>&nbsp;&nbsp;&nbsp;||&nbsp;&nbsp;Logical Or</TABLE></CENTER><P><FONT FACE="Arial,Geneva,Helvetica" SIZE=3>In order to maintain a small code-base for the interpreter only a single operation can be performed per line of code. Brackets can not be used with reference to operators. In C, a line of code may read;<P><CENTER><TABLE WIDTH=90%><TD ALIGN=LEFT VALIGN=TOP BGCOLOR="#eeeeee"><FONT FACE="Courier, Courier New" SIZE=4>&nbsp;&nbsp;&nbsp;/* C example */<BR>&nbsp;&nbsp;&nbsp;number_value = ( number1 + number2 ) * 45;</TABLE></CENTER><P><FONT FACE="Arial,Geneva,Helvetica" SIZE=3>In ApeScript this would be written;<P><CENTER><TABLE WIDTH=90%><TD ALIGN=LEFT VALIGN=TOP BGCOLOR="#eeeeee"><FONT FACE="Courier, Courier New" SIZE=4>&nbsp;&nbsp;&nbsp;number_value = number_one + number_two;<BR>&nbsp;&nbsp;&nbsp;number_value = number_value * 45;</TABLE></CENTER><P><FONT FACE="Arial,Geneva,Helvetica" SIZE=3><B>IF/WHILE</B><P>ApeScript has two additional operators, if and while. This provides conditional and loops respectively. If you require a standard ''for'' loop from 0 to 9, you can write it in ApeScript as follows;<P><CENTER><TABLE WIDTH=90%><TD ALIGN=LEFT VALIGN=TOP BGCOLOR="#eeeeee"><FONT FACE="Courier, Courier New" SIZE=4>&nbsp;&nbsp;&nbsp;while ( loop_condition <  10 ) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loop_condition = loop_condition + 1;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;}</TABLE></CENTER><P><FONT FACE="Arial,Geneva,Helvetica" SIZE=3>Similarly, if you want to execute a section of ApeScript in a particular condition, you can use an if-statement;<P><CENTER><TABLE WIDTH=90%><TD ALIGN=LEFT VALIGN=TOP BGCOLOR="#eeeeee"><FONT FACE="Courier, Courier New" SIZE=4>&nbsp;&nbsp;&nbsp;if ( particular_condition ) {<BR>&nbsp;&nbsp;&nbsp;}</TABLE></CENTER><P><FONT FACE="Arial,Geneva,Helvetica" SIZE=3>While loops and if-statements can be layered. For example;<P><CENTER><TABLE WIDTH=90%><TD ALIGN=LEFT VALIGN=TOP BGCOLOR="#eeeeee"><FONT FACE="Courier, Courier New" SIZE=4>&nbsp;&nbsp;&nbsp;while ( loop_condition < 230 ) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( loop_condition < 150 ) {&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loop_condition = loop_condition + 1;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loop_condition = loop_condition * 3;<BR>&nbsp;&nbsp;&nbsp;}</TABLE></CENTER><FONT FACE="Arial,Geneva,Helvetica" SIZE=3><P><B>FUNCTIONS</B><P>Functions are central to ApeScript. The being function is similar to main in C. Functions are special variables that are saved are in execution code memory allocations. They can be treated as variables. The code within the functions are not executed until they are run. Thus functions can be defined out of order provided the being function is placed last.<P><CENTER><TABLE WIDTH=90%><TD ALIGN=LEFT VALIGN=TOP BGCOLOR="#eeeeee"><FONT FACE="Courier, Courier New" SIZE=4>&nbsp;&nbsp;&nbsp;function ( physically_first ) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test_value = 3;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run ( called_first );<BR>&nbsp;&nbsp;&nbsp;}<P>&nbsp;&nbsp;&nbsp;function ( called_first ) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test_value = test_value + 4;<BR>&nbsp;&nbsp;&nbsp;}<P>&nbsp;&nbsp;&nbsp;function ( being ) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test_value = 1;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run ( called_first );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run_function = physically_first;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( test_value > 7 ) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run_function = called_first;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run ( run_function );<BR>&nbsp;&nbsp;&nbsp;}</TABLE></CENTER><FONT FACE="Arial,Geneva,Helvetica" SIZE=3><P><B>ERRORS</B><P>For simplicity error reports are tracked per version release. If ApeScript reports an error, check it against <A HREF="apescript_sim.html">this list</A> for possible causes/fixes.<P><B>LIMITS</B><P>With both variable allocation and while/if nesting (i.e. the number of layers of { }) there are limits for both. Developing actual ApeScript code for practical solutions, you should never reach these limits however if you have found a limit for your ApeScript code, please get in contact;<CENTER><TABLE WIDTH=90%><TD ALIGN=LEFT VALIGN=TOP BGCOLOR="#eeeeee"><FONT FACE="Courier, Courier New" SIZE=4>&nbsp;&nbsp;&nbsp;tom at nobleape dot com</TABLE></CENTER><P><FONT FACE="Arial,Geneva,Helvetica" SIZE=3>As these limits can be extended for actual use cases.<P><B>MAILING LIST</B><P>The Noble Ape developer mailing list can provide feedback to your ApeScript questions. If you are starting out with ApeScript and you want a community, subscribe to the mailing list;<P>&nbsp;&nbsp;&nbsp;<A HREF="http://www.nobleape.com/mailman/listinfo/developer_nobleape.com">http://www.nobleape.com/mailman/listinfo/developer_nobleape.com</A><P>In addition to the active contributions to the mailing list, the link above provides an archive of the developer mailing list too.<HR><CENTER><A HREF="file.html">File Format</A> - <A HREF="index.html">Contents</A> - <A HREF="apescript_sim.html">Scripting the Simulation</A></CENTER></BODY></HTML>